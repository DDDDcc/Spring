<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="js/document.js" ></script>
		<script type="text/javascript" src="js/EventUtil.js" ></script>
	</head>
	<body>
		<ul id="menu">
			
		</ul>
		<script>
			(function(){
				//数据：假设数据从后台通过ajax获取
				var data = [
				{name:'首页',url:"www.baidu.com",id:1},
				{name:'关于',url:"www.taobao.com",id:2},
				{name:'产品',url:"www.xiaomi.com",id:3},
				{name:'案例',url:"www.jd.com",id:4},
				{name:'联系',url:"www.baidu.com",id:5}
				];
				
				//页面加载完成后，动态加载菜单数据
				document.myReady(function(){
					//初始化菜单数据
					loadMenuData();
				});
				//初始化菜单数据
				function loadMenuData(){
					var  menu = document.getElementById('menu');
					var strArray = [];
					//使用innerHTML的方法直接拼接字符串
					for(var i= 0; i<data.length;i++){
						var str = '<li id = " menu   ' + data[i].id +' ">';
						str +=        '<a href = " ' +data[i].url + ' ">' + data[i].name + '</a>';
						str+="</li>";
						//menu.innerHTML +=str;//每创建一个li标签DOM树要更新一次，效率太低
						strArray.push(str);
					}
					 
					 menu.innerHTML = strArray.join("");//DOM只更新一次，高度效率
				}
			})();
		</script>
	</body>
</html>
